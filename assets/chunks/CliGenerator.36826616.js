import{d as U,g as _,h as d,o as c,c as r,k as e,t as l,F as E,G as C,a2 as s,a3 as N,a4 as m,a5 as O,a6 as S,_ as G}from"./framework.a73c7ff7.js";const B={class:"box"},A={class:"ext-item"},M=["id","value"],Z=["for"],j={class:"box"},H={class:"ext-item"},R=["id","value"],F=["for"],L={class:"option-line"},X={class:"option-title"},Y={value:"native"},$={value:"spc"},J={value:"docker"},K={class:"option-line"},Q={class:"option-title"},W=["value"],ee={class:"option-line"},le={class:"option-title"},oe={for:"debug-yes"},ne={for:"debug-no"},te={class:"option-line"},ae={class:"option-title"},se={for:"zts-yes"},de={for:"zts-no"},ie={class:"option-line"},ue={class:"option-title"},ce={for:"show-download-yes"},re={for:"show-download-no"},me=["placeholder"],ve={key:0,class:"command-container"},pe={class:"command-preview"},be={key:1,class:"command-container"},he={class:"command-preview"},ge={class:"command-container"},we={class:"command-preview"},ye={name:"CliGenerator"},xe=U({...ye,props:{lang:{type:String,default:"zh"}},setup(t){const D=["7.4","8.0","8.1","8.2"],a={zh:{selectExt:"选择扩展",buildTarget:"选择编译目标",buildOptions:"编译选项",buildEnvironment:"编译环境",buildEnvNative:"本地构建（Git 源码）",buildEnvSpc:"本地构建（独立 spc 二进制）",buildEnvDocker:"Alpine Docker 构建",useDebug:"是否开启调试输出",yes:"是",no:"否",resultShow:"结果展示",selectCommon:"选择常用扩展",selectNone:"全部取消选择",useZTS:"是否编译线程安全版",hardcodedINI:"硬编码 INI 选项",hardcodedINIPlacehoder:"如需要硬编码 ini，每行写一个，例如：memory_limit=2G",resultShowDownload:"是否展示仅下载对应扩展依赖的命令",downloadExtOnlyCommand:"只下载对应扩展的依赖包命令",downloadAllCommand:"下载所有依赖包命令",compileCommand:"编译命令",downloadPhpVersion:"下载 PHP 版本"},en:{selectExt:"Select Extensions",buildTarget:"Build Target",buildOptions:"Build Options",buildEnvironment:"Build Environment",buildEnvNative:"Native build (Git source code)",buildEnvSpc:"Native build (standalone spc binary)",buildEnvDocker:"Alpine docker build",useDebug:"Enable debug message",yes:"Yes",no:"No",resultShow:"Result",selectCommon:"Select common extensions",selectNone:"Unselect all",useZTS:"Enable ZTS",hardcodedINI:"Hardcoded INI options",hardcodedINIPlacehoder:"If you need to hardcode ini, write one per line, for example: memory_limit=2G",resultShowDownload:"Download with corresponding extension dependencies",downloadExtOnlyCommand:"Download sources by extensions command",downloadAllCommand:"Download all sources command",compileCommand:"Compile command",downloadPhpVersion:"Download PHP version"}},V=["apcu","bcmath","bz2","calendar","ctype","curl","dba","dom","event","exif","ffi","filter","fileinfo","gd","glfw","gmp","iconv","imagick","inotify","intl","ldap","mbstring","mbregex","memcache","mongodb","mysqli","mysqlnd","opcache","openssl","pcntl","pdo","pdo_mysql","pdo_sqlite","pdo_pgsql","pgsql","phar","posix","protobuf","readline","redis","session","shmop","simplexml","snappy","soap","sockets","sodium","sqlite3","ssh2","swow","swoole","tokenizer","xlswriter","xml","xmlreader","xmlwriter","xsl","zip","zlib","zstd"],z=["cli","fpm","micro","embed","all"],q=()=>{v.value=["bcmath","calendar","ctype","curl","dba","dom","exif","filter","fileinfo","gd","iconv","mbstring","mbregex","mysqli","mysqlnd","openssl","pcntl","pdo","intl","pdo_mysql","pdo_sqlite","pgsql","pdo_pgsql","phar","posix","readline","redis","session","simplexml","sockets","sodium","sqlite3","tokenizer","xml","xmlreader","xmlwriter","xsl","zip","zlib"]},k=_(()=>v.value.join(",")),v=d([]),i=d(["cli"]),w=d("native"),g=d("8.2"),u=d(0),p=d(0),b=d(0),y=d(""),x=_(()=>{switch(w.value){case"native":return"bin/spc";case"spc":return"./spc";case"docker":return"bin/spc-alpine-docker";default:return""}}),I=d("--build-cli"),T=_(()=>{const h=y.value.split(`
`);let n=[];return h.forEach(o=>{o.indexOf("=")>=1&&n.push(o)})," "+n.map(o=>'-I "'+o+'"').join(" ")}),P=h=>{let n;i.value.indexOf("all")!==-1&&h.target.value==="all"?i.value=["all"]:(n=i.value.indexOf("all"))!==-1&&h.target.value!=="all"&&i.value.splice(n,1),I.value=i.value.map(o=>"--build-"+o).join(" ")};return(h,n)=>(c(),r("div",null,[e("h2",null,l(a[t.lang].selectExt),1),e("div",B,[(c(),r(E,null,C(V,o=>e("div",A,[s(e("input",{type:"checkbox",id:o,value:o,"onUpdate:modelValue":n[0]||(n[0]=f=>v.value=f)},null,8,M),[[S,v.value]]),e("label",{for:o},l(o),9,Z)])),64))]),e("div",{class:"my-btn",onClick:q},l(a[t.lang].selectCommon),1),e("div",{class:"my-btn",onClick:n[1]||(n[1]=o=>v.value=[])},l(a[t.lang].selectNone),1),e("h2",null,l(a[t.lang].buildTarget),1),e("div",j,[(c(),r(E,null,C(z,o=>e("div",H,[s(e("input",{type:"checkbox",id:"build_"+o,value:o,"onUpdate:modelValue":n[2]||(n[2]=f=>i.value=f),onChange:P},null,40,R),[[S,i.value]]),e("label",{for:"build_"+o},l(o),9,F)])),64))]),e("h2",null,l(a[t.lang].buildOptions),1),e("div",L,[e("span",X,l(a[t.lang].buildEnvironment),1),s(e("select",{"onUpdate:modelValue":n[3]||(n[3]=o=>w.value=o)},[e("option",Y,l(a[t.lang].buildEnvNative),1),e("option",$,l(a[t.lang].buildEnvSpc),1),e("option",J,l(a[t.lang].buildEnvDocker),1)],512),[[N,w.value]])]),e("div",K,[e("span",Q,l(a[t.lang].downloadPhpVersion),1),s(e("select",{"onUpdate:modelValue":n[4]||(n[4]=o=>g.value=o)},[(c(),r(E,null,C(D,o=>e("option",{value:o},l(o),9,W)),64))],512),[[N,g.value]])]),e("div",ee,[e("span",le,l(a[t.lang].useDebug),1),s(e("input",{type:"radio",id:"debug-yes",value:1,"onUpdate:modelValue":n[5]||(n[5]=o=>u.value=o)},null,512),[[m,u.value]]),e("label",oe,l(a[t.lang].yes),1),s(e("input",{type:"radio",id:"debug-no",value:0,"onUpdate:modelValue":n[6]||(n[6]=o=>u.value=o)},null,512),[[m,u.value]]),e("label",ne,l(a[t.lang].no),1)]),e("div",te,[e("span",ae,l(a[t.lang].useZTS),1),s(e("input",{type:"radio",id:"zts-yes",value:1,"onUpdate:modelValue":n[7]||(n[7]=o=>p.value=o)},null,512),[[m,p.value]]),e("label",se,l(a[t.lang].yes),1),s(e("input",{type:"radio",id:"zts-no",value:0,"onUpdate:modelValue":n[8]||(n[8]=o=>p.value=o)},null,512),[[m,p.value]]),e("label",de,l(a[t.lang].no),1)]),e("div",ie,[e("span",ue,l(a[t.lang].resultShowDownload),1),s(e("input",{type:"radio",id:"show-download-yes",value:1,"onUpdate:modelValue":n[9]||(n[9]=o=>b.value=o)},null,512),[[m,b.value]]),e("label",ce,l(a[t.lang].yes),1),s(e("input",{type:"radio",id:"show-download-no",value:0,"onUpdate:modelValue":n[10]||(n[10]=o=>b.value=o)},null,512),[[m,b.value]]),e("label",re,l(a[t.lang].no),1)]),e("h2",null,l(a[t.lang].hardcodedINI),1),s(e("textarea",{class:"textarea",placeholder:a[t.lang].hardcodedINIPlacehoder,"onUpdate:modelValue":n[11]||(n[11]=o=>y.value=o),rows:"5"},null,8,me),[[O,y.value]]),e("h2",null,l(a[t.lang].resultShow),1),b.value?(c(),r("div",ve,[e("b",null,l(a[t.lang].downloadExtOnlyCommand),1),e("div",pe,l(x.value)+" download --with-php="+l(g.value)+' --by-extensions "'+l(k.value)+'"'+l(u.value?" --debug":""),1)])):(c(),r("div",be,[e("b",null,l(a[t.lang].downloadAllCommand),1),e("div",he,l(x.value)+" download --all --with-php="+l(g.value)+l(u.value?" --debug":""),1)])),e("div",ge,[e("b",null,l(a[t.lang].compileCommand),1),e("div",we,l(x.value)+" build "+l(I.value)+' "'+l(k.value)+'"'+l(u.value?" --debug":"")+l(p.value?" --enable-zts":"")+l(T.value),1)])]))}});const _e=G(xe,[["__scopeId","data-v-61fc7b68"]]);export{_e as C};
