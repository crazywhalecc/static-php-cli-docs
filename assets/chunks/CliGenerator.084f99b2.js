import{d as q,g as h,h as d,o as f,c as x,k as e,t,F as I,G as _,a2 as a,a3 as D,a4 as m,a5 as U,a6 as N,_ as V}from"./framework.a73c7ff7.js";const O={class:"box"},G={class:"ext-item"},B=["id","value"],M=["for"],Z={class:"box"},j={class:"ext-item"},A=["id","value"],P=["for"],R={class:"option-line"},F={class:"option-title"},L={value:"native"},H={value:"docker"},X={class:"option-line"},Y={class:"option-title"},$={for:"debug-yes"},J={for:"debug-no"},K={class:"option-line"},Q={class:"option-title"},W={for:"debug-yes"},ee={for:"debug-no"},le=["placeholder"],oe={class:"command-preview"},te={name:"CliGenerator"},ne=q({...te,props:{lang:{type:String,default:"zh"}},setup(n){const s={zh:{selectExt:"选择扩展",buildTarget:"选择编译目标",buildOptions:"编译选项",buildEnvironment:"编译环境",buildEnvNative:"本地构建",buildEnvDocker:"Alpine Docker 构建",useDebug:"是否开启调试输出",yes:"是",no:"否",resultShow:"结果展示",selectCommon:"选择常用扩展",selectNone:"全部取消选择",useZTS:"是否编译线程安全版",hardcodedINI:"硬编码 INI 选项",hardcodedINIPlacehoder:"如需要硬编码 ini，每行写一个，例如：memory_limit=2G"},en:{selectExt:"Select Extensions",buildTarget:"Build Target",buildOptions:"Build Options",buildEnvironment:"Build Environment",buildEnvNative:"Native build",buildEnvDocker:"Alpine docker build",useDebug:"Enable debug message",yes:"Yes",no:"No",resultShow:"Result",selectCommon:"Select common extensions",selectNone:"Unselect all",useZTS:"Enable ZTS",hardcodedINI:"Hardcoded INI options",hardcodedINIPlacehoder:"If you need to hardcode ini, write one per line, for example: memory_limit=2G"}},k=["apcu","bcmath","bz2","calendar","ctype","curl","dba","dom","event","exif","ffi","filter","fileinfo","gd","glfw","gmp","iconv","imagick","inotify","intl","mbstring","mbregex","memcache","mongodb","mysqli","mysqlnd","opcache","openssl","pcntl","pdo","pdo_mysql","pdo_sqlite","pdo_pgsql","pgsql","phar","posix","protobuf","readline","redis","session","shmop","simplexml","soap","sockets","sodium","sqlite3","ssh2","swow","swoole","tokenizer","xlswriter","xml","xmlreader","xmlwriter","zip","zlib","zstd"],E=["cli","fpm","micro","all"],C=()=>{u.value=["bcmath","calendar","ctype","curl","dba","dom","exif","filter","fileinfo","gd","iconv","mbstring","mbregex","mysqli","mysqlnd","openssl","pcntl","pdo","pdo_mysql","pdo_sqlite","phar","posix","readline","redis","session","simplexml","sockets","sqlite3","tokenizer","xml","xmlreader","xmlwriter","zip","zlib"]},w=h(()=>u.value.join(",")),u=d([]),i=d(["cli"]),b=d("native"),c=d(0),r=d(0),p=d(""),z=h(()=>b.value==="native"?"spc":"spc-alpine-docker"),y=d("--build-cli"),S=h(()=>{const v=p.value.split(`
`);let o=[];return v.forEach(l=>{l.indexOf("=")>=1&&o.push(l)})," "+o.map(l=>'-I "'+l+'"').join(" ")}),T=v=>{let o;i.value.indexOf("all")!==-1&&v.target.value==="all"?i.value=["all"]:(o=i.value.indexOf("all"))!==-1&&v.target.value!=="all"&&i.value.splice(o,1),y.value=i.value.map(l=>"--build-"+l).join(" ")};return(v,o)=>(f(),x("div",null,[e("h2",null,t(s[n.lang].selectExt),1),e("div",O,[(f(),x(I,null,_(k,l=>e("div",G,[a(e("input",{type:"checkbox",id:l,value:l,"onUpdate:modelValue":o[0]||(o[0]=g=>u.value=g)},null,8,B),[[N,u.value]]),e("label",{for:l},t(l),9,M)])),64))]),e("div",{class:"my-btn",onClick:C},t(s[n.lang].selectCommon),1),e("div",{class:"my-btn",onClick:o[1]||(o[1]=l=>u.value=[])},t(s[n.lang].selectNone),1),e("h2",null,t(s[n.lang].buildTarget),1),e("div",Z,[(f(),x(I,null,_(E,l=>e("div",j,[a(e("input",{type:"checkbox",id:"build_"+l,value:l,"onUpdate:modelValue":o[2]||(o[2]=g=>i.value=g),onChange:T},null,40,A),[[N,i.value]]),e("label",{for:"build_"+l},t(l),9,P)])),64))]),e("h2",null,t(s[n.lang].buildOptions),1),e("div",R,[e("span",F,t(s[n.lang].buildEnvironment),1),a(e("select",{"onUpdate:modelValue":o[3]||(o[3]=l=>b.value=l)},[e("option",L,t(s[n.lang].buildEnvNative),1),e("option",H,t(s[n.lang].buildEnvDocker),1)],512),[[D,b.value]])]),e("div",X,[e("span",Y,t(s[n.lang].useDebug),1),a(e("input",{type:"radio",id:"debug-yes",value:1,"onUpdate:modelValue":o[4]||(o[4]=l=>c.value=l)},null,512),[[m,c.value]]),e("label",$,t(s[n.lang].yes),1),a(e("input",{type:"radio",id:"debug-no",value:0,"onUpdate:modelValue":o[5]||(o[5]=l=>c.value=l)},null,512),[[m,c.value]]),e("label",J,t(s[n.lang].no),1)]),e("div",K,[e("span",Q,t(s[n.lang].useZTS),1),a(e("input",{type:"radio",id:"zts-yes",value:1,"onUpdate:modelValue":o[6]||(o[6]=l=>r.value=l)},null,512),[[m,r.value]]),e("label",W,t(s[n.lang].yes),1),a(e("input",{type:"radio",id:"zts-no",value:0,"onUpdate:modelValue":o[7]||(o[7]=l=>r.value=l)},null,512),[[m,r.value]]),e("label",ee,t(s[n.lang].no),1)]),e("h2",null,t(s[n.lang].hardcodedINI),1),a(e("textarea",{class:"textarea",placeholder:s[n.lang].hardcodedINIPlacehoder,"onUpdate:modelValue":o[8]||(o[8]=l=>p.value=l),rows:"5"},null,8,le),[[U,p.value]]),e("h2",null,t(s[n.lang].resultShow),1),e("div",oe,"bin/"+t(z.value)+" build "+t(y.value)+' "'+t(w.value)+'"'+t(c.value?" --debug":"")+t(r.value?" --enable-zts":"")+t(S.value),1)]))}});const ae=V(ne,[["__scopeId","data-v-d968bb01"]]);export{ae as C};
